!function(t){"use strict";t.fn.transitionEnd=function(t){var e,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;function a(r){if(r.target===this)for(t.call(this,r),e=0;e<n.length;e++)i.off(n[e],a)}if(t)for(e=0;e<n.length;e++)i.on(n[e],a);return this},t.support={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)},t.touchEvents={start:t.support.touch?"touchstart":"mousedown",move:t.support.touch?"touchmove":"mousemove",end:t.support.touch?"touchend":"mouseup"},t.getTouchPosition=function(t){return"touchstart"===(t=t.originalEvent||t).type||"touchmove"===t.type||"touchend"===t.type?{x:t.targetTouches[0].pageX,y:t.targetTouches[0].pageY}:{x:t.pageX,y:t.pageY}},t.fn.scrollHeight=function(){return this[0].scrollHeight},t.fn.transform=function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this},t.fn.transition=function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this},t.getTranslate=function(t,e){var n,i,a,r;return void 0===e&&(e="x"),a=window.getComputedStyle(t,null),window.WebKitCSSMatrix?r=new WebKitCSSMatrix("none"===a.webkitTransform?"":a.webkitTransform):n=(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(i=window.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(i=window.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),i||0},t.requestAnimationFrame=function(t){return window.requestAnimationFrame?window.requestAnimationFrame(t):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(t):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(t):window.setTimeout(t,1e3/60)},t.cancelAnimationFrame=function(t){return window.cancelAnimationFrame?window.cancelAnimationFrame(t):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(t):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(t):window.clearTimeout(t)},t.fn.join=function(t){return this.toArray().join(t)}}($),function(t){"use strict";t.Template7=t.t7=function(){function t(t){return"[object Array]"===Object.prototype.toString.apply(t)}function e(t){return"function"==typeof t}function n(t){var e,n,i,a=t.replace(/[{}#}]/g,"").split(" "),r=[];for(n=0;n<a.length;n++){var o=a[n];if(0===n)r.push(o);else if(0===o.indexOf('"'))if(2===o.match(/"/g).length)r.push(o);else{for(e=0,i=n+1;i<a.length;i++)if(o+=" "+a[i],a[i].indexOf('"')>=0){e=i,r.push(o);break}e&&(n=e)}else if(o.indexOf("=")>0){var s=o.split("="),c=s[0],l=s[1];if(2!==l.match(/"/g).length){for(e=0,i=n+1;i<a.length;i++)if(l+=" "+a[i],a[i].indexOf('"')>=0){e=i;break}e&&(n=e)}var u=[c,l.replace(/"/g,"")];r.push(u)}else r.push(o)}return r}var i=function(e){var i=this;function a(t,e){return t.content?c(t.content,e):function(){return""}}function r(t,e){return t.inverseContent?c(t.inverseContent,e):function(){return""}}function o(t,e){var n,i,a=0;if(0===t.indexOf("../")){a=t.split("../").length-1;var r=e.split("_")[1]-a;e="ctx_"+(r>=1?r:1),i=t.split("../")[a].split(".")}else 0===t.indexOf("@global")?(e="$.Template7.global",i=t.split("@global.")[1].split(".")):0===t.indexOf("@root")?(e="ctx_1",i=t.split("@root.")[1].split(".")):i=t.split(".");n=e;for(var o=0;o<i.length;o++){var s=i[o];0===s.indexOf("@")?o>0?n+="[(data && data."+s.replace("@","")+")]":n="(data && data."+t.replace("@","")+")":isFinite(s)?n+="["+s+"]":0===s.indexOf("this")?n=s.replace("this",e):n+="."+s}return n}function s(t,e){for(var n=[],i=0;i<t.length;i++)0===t[i].indexOf('"')?n.push(t[i]):n.push(o(t[i],e));return n.join(", ")}function c(e,c){if(c=c||1,"string"!=typeof(e=e||i.template))throw new Error("Template7: Template must be a string");var l=function(e){var i,a,r=[];if(!e)return[];var o=e.split(/({{[^{^}]*}})/);for(i=0;i<o.length;i++){var s=o[i];if(""!==s)if(s.indexOf("{{")<0)r.push({type:"plain",content:s});else{if(s.indexOf("{/")>=0)continue;if(s.indexOf("{#")<0&&s.indexOf(" ")<0&&s.indexOf("else")<0){r.push({type:"variable",contextName:s.replace(/[{}]/g,"")});continue}var c=n(s),l=c[0],u=[],p={};for(a=1;a<c.length;a++){var h=c[a];t(h)?p[h[0]]="false"!==h[1]&&h[1]:u.push(h)}if(s.indexOf("{#")>=0){var d,f="",m="",v=0,g=!1,w=!1,y=0;for(a=i+1;a<o.length;a++)if(o[a].indexOf("{{#")>=0&&y++,o[a].indexOf("{{/")>=0&&y--,o[a].indexOf("{{#"+l)>=0)f+=o[a],w&&(m+=o[a]),v++;else if(o[a].indexOf("{{/"+l)>=0){if(!(v>0)){d=a,g=!0;break}v--,f+=o[a],w&&(m+=o[a])}else o[a].indexOf("else")>=0&&0===y?w=!0:(w||(f+=o[a]),w&&(m+=o[a]));g&&(d&&(i=d),r.push({type:"helper",helperName:l,contextName:u,content:f,inverseContent:m,hash:p}))}else s.indexOf(" ")>0&&r.push({type:"helper",helperName:l,contextName:u,hash:p})}}return r}(e);if(0===l.length)return function(){return""};var u,p="ctx_"+c,h="(function ("+p+", data) {\n";for(1===c&&(h+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",h+="function isFunction(func){return (typeof func === 'function');}\n",h+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),h+="var r = '';\n",u=0;u<l.length;u++){var d,f,m=l[u];if("plain"!==m.type){if("variable"===m.type&&(h+="r += c("+(d=o(m.contextName,p))+", "+p+");"),"helper"===m.type)if(m.helperName in i.helpers)f=s(m.contextName,p),h+="r += ($.Template7.helpers."+m.helperName+").call("+p+", "+(f&&f+", ")+"{hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+a(m,c+1)+", inverse: "+r(m,c+1)+", root: ctx_1});";else{if(m.contextName.length>0)throw new Error('Template7: Missing helper: "'+m.helperName+'"');h+="if ("+(d=o(m.helperName,p))+") {",h+="if (isArray("+d+")) {",h+="r += ($.Template7.helpers.each).call("+p+", "+d+", {hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+a(m,c+1)+", inverse: "+r(m,c+1)+", root: ctx_1});",h+="}else {",h+="r += ($.Template7.helpers.with).call("+p+", "+d+", {hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+a(m,c+1)+", inverse: "+r(m,c+1)+", root: ctx_1});",h+="}}"}}else h+="r +='"+m.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return h+="\nreturn r;})",eval.call(window,h)}i.template=e,i.compile=function(t){return i.compiled||(i.compiled=c(t)),i.compiled}};i.prototype={options:{},helpers:{if:function(t,n){return e(t)&&(t=t.call(this)),t?n.fn(this,n.data):n.inverse(this,n.data)},unless:function(t,n){return e(t)&&(t=t.call(this)),t?n.inverse(this,n.data):n.fn(this,n.data)},each:function(n,i){var a="",r=0;if(e(n)&&(n=n.call(this)),t(n)){for(i.hash.reverse&&(n=n.reverse()),r=0;r<n.length;r++)a+=i.fn(n[r],{first:0===r,last:r===n.length-1,index:r});i.hash.reverse&&(n=n.reverse())}else for(var o in n)r++,a+=i.fn(n[o],{key:o});return r>0?a:i.inverse(this)},with:function(t,n){return e(t)&&(t=t.call(this)),n.fn(t)},join:function(t,n){return e(t)&&(t=t.call(this)),t.join(n.hash.delimiter||n.hash.delimeter)},js:function(t,e){var n;return n=t.indexOf("return")>=0?"(function(){"+t+"})":"(function(){return ("+t+")})",eval.call(this,n).call(this)},js_compare:function(t,e){var n;return n=t.indexOf("return")>=0?"(function(){"+t+"})":"(function(){return ("+t+")})",eval.call(this,n).call(this)?e.fn(this,e.data):e.inverse(this,e.data)}}};var a=function(t,e){if(2===arguments.length){var n=new i(t),a=n.compile()(e);return n=null,a}return new i(t)};return a.registerHelper=function(t,e){i.prototype.helpers[t]=e},a.unregisterHelper=function(t){i.prototype.helpers[t]=void 0,delete i.prototype.helpers[t]},a.compile=function(t,e){return new i(t,e).compile()},a.options=i.prototype.options,a.helpers=i.prototype.helpers,a}()}($),function(t,e,n,i){"use strict";var a,r=["","webkit","Moz","MS","ms","o"],o=e.createElement("div"),s="function",c=Math.round,l=Math.abs,u=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function h(t,e,n){return!!Array.isArray(t)&&(d(t,n[e],n),!0)}function d(t,e,n){var a;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(a=0;a<t.length;)e.call(n,t[a],a,t),a++;else for(a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function f(e,n,i){var a="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=t.console&&(t.console.warn||t.console.log);return r&&r.call(t.console,a,i),e.apply(this,arguments)}}a="function"!=typeof Object.assign?function(t){if(t===i||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var a=arguments[n];if(a!==i&&null!==a)for(var r in a)a.hasOwnProperty(r)&&(e[r]=a[r])}return e}:Object.assign;var m=f(function(t,e,n){for(var a=Object.keys(e),r=0;r<a.length;)(!n||n&&t[a[r]]===i)&&(t[a[r]]=e[a[r]]),r++;return t},"extend","Use `assign`."),v=f(function(t,e){return m(t,e,!0)},"merge","Use `assign`.");function g(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&a(i,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function y(t,e){return typeof t==s?t.apply(e&&e[0]||i,e):t}function T(t,e){return t===i?e:t}function k(t,e,n){d(M(e),function(e){t.addEventListener(e,n,!1)})}function x(t,e,n){d(M(e),function(e){t.removeEventListener(e,n,!1)})}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function M(t){return t.trim().split(/\s+/g)}function _(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function E(t){return Array.prototype.slice.call(t,0)}function D(t,e,n){for(var i=[],a=[],r=0;r<t.length;){var o=e?t[r][e]:t[r];_(a,o)<0&&i.push(t[r]),a[r]=o,r++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function P(t,e){for(var n,a,o=e[0].toUpperCase()+e.slice(1),s=0;s<r.length;){if((a=(n=r[s])?n+o:e)in t)return a;s++}return i}var O=1;function A(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}var I="ontouchstart"in t,H=P(t,"PointerEvent")!==i,S=I&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Y=25,V=1,N=2,F=4,R=8,q=1,z=2,L=4,j=8,X=16,$=z|L,W=j|X,K=$|W,U=["x","y"],B=["clientX","clientY"];function G(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){y(t.options.enable,[t])&&n.handler(e)},this.init()}function J(t,e,n){var a=n.pointers.length,r=n.changedPointers.length,o=e&V&&a-r==0,s=e&(F|R)&&a-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,a=e.pointers,r=a.length;n.firstInput||(n.firstInput=Z(e));r>1&&!n.firstMultiple?n.firstMultiple=Z(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,c=s?s.center:o.center,p=e.center=Q(a);e.timeStamp=u(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=it(c,p),e.distance=nt(c,p),function(t,e){var n=e.center,i=t.offsetDelta||{},a=t.prevDelta||{},r=t.prevInput||{};e.eventType!==V&&r.eventType!==F||(a=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=a.x+(n.x-i.x),e.deltaY=a.y+(n.y-i.y)}(n,e),e.offsetDirection=et(e.deltaX,e.deltaY);var h=tt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=l(h.x)>l(h.y)?h.x:h.y,e.scale=s?(d=s.pointers,f=a,nt(f[0],f[1],B)/nt(d[0],d[1],B)):1,e.rotation=s?function(t,e){return it(e[1],e[0],B)+it(t[1],t[0],B)}(s.pointers,a):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,a,r,o,s=t.lastInterval||e,c=e.timeStamp-s.timeStamp;if(e.eventType!=R&&(c>Y||s.velocity===i)){var u=e.deltaX-s.deltaX,p=e.deltaY-s.deltaY,h=tt(c,u,p);a=h.x,r=h.y,n=l(h.x)>l(h.y)?h.x:h.y,o=et(u,p),t.lastInterval=e}else n=s.velocity,a=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=a,e.velocityY=r,e.direction=o}(n,e);var d,f;var m=t.element;C(e.srcEvent.target,m)&&(m=e.srcEvent.target);e.target=m}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function Z(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:c(t.pointers[n].clientX),clientY:c(t.pointers[n].clientY)},n++;return{timeStamp:u(),pointers:e,center:Q(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Q(t){var e=t.length;if(1===e)return{x:c(t[0].clientX),y:c(t[0].clientY)};for(var n=0,i=0,a=0;a<e;)n+=t[a].clientX,i+=t[a].clientY,a++;return{x:c(n/e),y:c(i/e)}}function tt(t,e,n){return{x:e/t||0,y:n/t||0}}function et(t,e){return t===e?q:l(t)>=l(e)?t<0?z:L:e<0?j:X}function nt(t,e,n){n||(n=U);var i=e[n[0]]-t[n[0]],a=e[n[1]]-t[n[1]];return Math.sqrt(i*i+a*a)}function it(t,e,n){n||(n=U);var i=e[n[0]]-t[n[0]],a=e[n[1]]-t[n[1]];return 180*Math.atan2(a,i)/Math.PI}G.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(A(this.element),this.evWin,this.domHandler)}};var at={mousedown:V,mousemove:N,mouseup:F},rt="mousedown",ot="mousemove mouseup";function st(){this.evEl=rt,this.evWin=ot,this.pressed=!1,G.apply(this,arguments)}g(st,G,{handler:function(t){var e=at[t.type];e&V&&0===t.button&&(this.pressed=!0),e&N&&1!==t.which&&(e=F),this.pressed&&(e&F&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ct={pointerdown:V,pointermove:N,pointerup:F,pointercancel:R,pointerout:R},lt={2:"touch",3:"pen",4:"mouse",5:"kinect"},ut="pointerdown",pt="pointermove pointerup pointercancel";function ht(){this.evEl=ut,this.evWin=pt,G.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}t.MSPointerEvent&&!t.PointerEvent&&(ut="MSPointerDown",pt="MSPointerMove MSPointerUp MSPointerCancel"),g(ht,G,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),a=ct[i],r=lt[t.pointerType]||t.pointerType,o="touch"==r,s=_(e,t.pointerId,"pointerId");a&V&&(0===t.button||o)?s<0&&(e.push(t),s=e.length-1):a&(F|R)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,a,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(s,1))}});var dt={touchstart:V,touchmove:N,touchend:F,touchcancel:R},ft="touchstart",mt="touchstart touchmove touchend touchcancel";function vt(){this.evTarget=ft,this.evWin=mt,this.started=!1,G.apply(this,arguments)}g(vt,G,{handler:function(t){var e=dt[t.type];if(e===V&&(this.started=!0),this.started){var n=function(t,e){var n=E(t.touches),i=E(t.changedTouches);e&(F|R)&&(n=D(n.concat(i),"identifier",!0));return[n,i]}.call(this,t,e);e&(F|R)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var gt={touchstart:V,touchmove:N,touchend:F,touchcancel:R},wt="touchstart touchmove touchend touchcancel";function yt(){this.evTarget=wt,this.targetIds={},G.apply(this,arguments)}g(yt,G,{handler:function(t){var e=gt[t.type],n=function(t,e){var n=E(t.touches),i=this.targetIds;if(e&(V|N)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var a,r,o=E(t.changedTouches),s=[],c=this.target;if(r=n.filter(function(t){return C(t.target,c)}),e===V)for(a=0;a<r.length;)i[r[a].identifier]=!0,a++;a=0;for(;a<o.length;)i[o[a].identifier]&&s.push(o[a]),e&(F|R)&&delete i[o[a].identifier],a++;if(!s.length)return;return[D(r.concat(s),"identifier",!0),s]}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Tt=2500,kt=25;function xt(){G.apply(this,arguments);var t=w(this.handler,this);this.touch=new yt(this.manager,t),this.mouse=new st(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)},Tt)}}g(xt,G,{handler:function(t,e,n){var i="touch"==n.pointerType,a="mouse"==n.pointerType;if(!(a&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)(function(t,e){t&V?(this.primaryTouch=e.changedPointers[0].identifier,Ct.call(this,e)):t&(F|R)&&Ct.call(this,e)}).call(this,e,n);else if(a&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var a=this.lastTouches[i],r=Math.abs(e-a.x),o=Math.abs(n-a.y);if(r<=kt&&o<=kt)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var bt=P(o.style,"touchAction"),Mt=bt!==i,_t="auto",Et="manipulation",Dt="none",Pt="pan-x",Ot="pan-y",At=function(){if(!Mt)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=!n||t.CSS.supports("touch-action",i)}),e}();function It(t,e){this.manager=t,this.set(e)}It.prototype={set:function(t){"compute"==t&&(t=this.compute()),Mt&&this.manager.element.style&&At[t]&&(this.manager.element.style[bt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return d(this.manager.recognizers,function(e){y(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(b(t,Dt))return Dt;var e=b(t,Pt),n=b(t,Ot);if(e&&n)return Dt;if(e||n)return e?Pt:Ot;if(b(t,Et))return Et;return _t}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,a=b(i,Dt)&&!At[Dt],r=b(i,Ot)&&!At[Ot],o=b(i,Pt)&&!At[Pt];if(a){var s=1===t.pointers.length,c=t.distance<2,l=t.deltaTime<250;if(s&&c&&l)return}if(!o||!r)return a||r&&n&$||o&&n&W?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ht=1,St=2,Yt=4,Vt=8,Nt=Vt,Ft=16;function Rt(t){this.options=a({},this.defaults,t||{}),this.id=O++,this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=Ht,this.simultaneous={},this.requireFail=[]}function qt(t){return t&Ft?"cancel":t&Vt?"end":t&Yt?"move":t&St?"start":""}function zt(t){return t==X?"down":t==j?"up":t==z?"left":t==L?"right":""}function Lt(t,e){var n=e.manager;return n?n.get(t):t}function jt(){Rt.apply(this,arguments)}function Xt(){jt.apply(this,arguments),this.pX=null,this.pY=null}function $t(){jt.apply(this,arguments)}function Wt(){Rt.apply(this,arguments),this._timer=null,this._input=null}function Kt(){jt.apply(this,arguments)}function Ut(){jt.apply(this,arguments)}function Bt(){Rt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Gt(t,e){return(e=e||{}).recognizers=T(e.recognizers,Gt.defaults.preset),new Jt(t,e)}Rt.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(h(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Lt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return h(t,"dropRecognizeWith",this)?this:(t=Lt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(h(t,"requireFailure",this))return this;var e=this.requireFail;return-1===_(e,t=Lt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(h(t,"dropRequireFailure",this))return this;t=Lt(t,this);var e=_(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<Vt&&i(e.options.event+qt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=Vt&&i(e.options.event+qt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Ht)))return!1;t++}return!0},recognize:function(t){var e=a({},t);if(!y(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Nt|Ft|32)&&(this.state=Ht),this.state=this.process(e),this.state&(St|Yt|Vt|Ft)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},g(jt,Rt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(St|Yt),a=this.attrTest(t);return i&&(n&R||!a)?e|Ft:i||a?n&F?e|Vt:e&St?e|Yt:St:32}}),g(Xt,jt,{defaults:{event:"pan",threshold:10,pointers:1,direction:K},getTouchAction:function(){var t=this.options.direction,e=[];return t&$&&e.push(Ot),t&W&&e.push(Pt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,a=t.direction,r=t.deltaX,o=t.deltaY;return a&e.direction||(e.direction&$?(a=0===r?q:r<0?z:L,n=r!=this.pX,i=Math.abs(t.deltaX)):(a=0===o?q:o<0?j:X,n=o!=this.pY,i=Math.abs(t.deltaY))),t.direction=a,n&&i>e.threshold&&a&e.direction},attrTest:function(t){return jt.prototype.attrTest.call(this,t)&&(this.state&St||!(this.state&St)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=zt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),g($t,jt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Dt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&St)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),g(Wt,Rt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[_t]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,a=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(F|R)&&!a)this.reset();else if(t.eventType&V)this.reset(),this._timer=p(function(){this.state=Nt,this.tryEmit()},e.time,this);else if(t.eventType&F)return Nt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Nt&&(t&&t.eventType&F?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}}),g(Kt,jt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Dt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&St)}}),g(Ut,jt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:$|W,pointers:1},getTouchAction:function(){return Xt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&($|W)?e=t.overallVelocity:n&$?e=t.overallVelocityX:n&W&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&l(e)>this.options.velocity&&t.eventType&F},emit:function(t){var e=zt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),g(Bt,Rt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Et]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,a=t.deltaTime<e.time;if(this.reset(),t.eventType&V&&0===this.count)return this.failTimeout();if(i&&a&&n){if(t.eventType!=F)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||nt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&r?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=p(function(){this.state=Nt,this.tryEmit()},e.interval,this),St):Nt}return 32},failTimeout:function(){return this._timer=p(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Nt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Gt.VERSION="2.0.8",Gt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Kt,{enable:!1}],[$t,{enable:!1},["rotate"]],[Ut,{direction:$}],[Xt,{direction:$},["swipe"]],[Bt],[Bt,{event:"doubletap",taps:2},["tap"]],[Wt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Jt(t,e){var n;this.options=a({},Gt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(H?ht:S?yt:I?xt:st))(n,J),this.touchAction=new It(this,this.options.touchAction),Zt(this,!0),d(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Zt(t,e){var n,i=t.element;i.style&&(d(t.options.cssProps,function(a,r){n=P(i.style,r),e?(t.oldCssProps[n]=i.style[n],i.style[n]=a):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}Jt.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,a=e.curRecognizer;(!a||a&&a.state&Nt)&&(a=e.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===e.stopped||a&&n!=a&&!n.canRecognizeWith(a)?n.reset():n.recognize(t),!a&&n.state&(St|Yt|Vt)&&(a=e.curRecognizer=n),r++}},get:function(t){if(t instanceof Rt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(h(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(h(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=_(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==i&&e!==i){var n=this.handlers;return d(M(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==i){var n=this.handlers;return d(M(t),function(t){e?n[t]&&n[t].splice(_(n[t],e),1):delete n[t]}),this}},emit:function(t,n){this.options.domEvents&&function(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}(t,n);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){n.type=t,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var a=0;a<i.length;)i[a](n),a++}},destroy:function(){this.element&&Zt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(Gt,{INPUT_START:V,INPUT_MOVE:N,INPUT_END:F,INPUT_CANCEL:R,STATE_POSSIBLE:Ht,STATE_BEGAN:St,STATE_CHANGED:Yt,STATE_ENDED:Vt,STATE_RECOGNIZED:Nt,STATE_CANCELLED:Ft,STATE_FAILED:32,DIRECTION_NONE:q,DIRECTION_LEFT:z,DIRECTION_RIGHT:L,DIRECTION_UP:j,DIRECTION_DOWN:X,DIRECTION_HORIZONTAL:$,DIRECTION_VERTICAL:W,DIRECTION_ALL:K,Manager:Jt,Input:G,TouchAction:It,TouchInput:yt,MouseInput:st,PointerEventInput:ht,TouchMouseInput:xt,SingleTouchInput:vt,Recognizer:Rt,AttrRecognizer:jt,Tap:Bt,Pan:Xt,Swipe:Ut,Pinch:$t,Rotate:Kt,Press:Wt,on:k,off:x,each:d,merge:v,extend:m,assign:a,inherit:g,bindFn:w,prefixed:P}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=Gt,"function"==typeof define&&define.amd?define(function(){return Gt}):"undefined"!=typeof module&&module.exports?module.exports=Gt:t.Hammer=Gt}(window,document),function(t){"use strict";var e;t.modal=function(n,i){var a=(n=t.extend({},e,n)).buttons,r=a.map(function(t,e){return'<a href="javascript:;" class="weui-dialog__btn '+(t.className||"")+'">'+t.text+"</a>"}).join(""),o='<div class="weui-dialog"><div class="weui-dialog__hd"><strong class="weui-dialog__title">'+n.title+"</strong></div>"+(n.text?'<div class="weui-dialog__bd">'+n.text+"</div>":"")+'<div class="weui-dialog__ft">'+r+"</div></div>",s=t.openModal(o,i);return s.find(".weui-dialog__btn").each(function(e,i){t(i).click(function(){n.autoClose&&t.closeModal(),a[e].onClick&&a[e].onClick.call(s)})}),s},t.openModal=function(e,n){var i=t("<div class='weui-mask'></div>").appendTo(document.body);i.show();var a=t(e).appendTo(document.body);return n&&a.transitionEnd(function(){n.call(a)}),a.show(),i.addClass("weui-mask--visible"),a.addClass("weui-dialog--visible"),a},t.closeModal=function(){t(".weui-mask--visible").removeClass("weui-mask--visible").transitionEnd(function(){t(this).remove()}),t(".weui-dialog--visible").removeClass("weui-dialog--visible").transitionEnd(function(){t(this).remove()})},t.alert=function(n,i,a){var r;return"object"==typeof n?r=n:("function"==typeof i&&(a=arguments[1],i=void 0),r={text:n,title:i,onOK:a}),t.modal({text:r.text,title:r.title,buttons:[{text:e.buttonOK,className:"primary",onClick:r.onOK}]})},t.confirm=function(n,i,a,r){var o;return"object"==typeof n?o=n:("function"==typeof i&&(r=arguments[2],a=arguments[1],i=void 0),o={text:n,title:i,onOK:a,onCancel:r}),t.modal({text:o.text,title:o.title,buttons:[{text:e.buttonCancel,className:"default",onClick:o.onCancel},{text:e.buttonOK,className:"primary",onClick:o.onOK}]})},t.prompt=function(n,i,a,r,o){var s;"object"==typeof n?s=n:("function"==typeof i&&(o=arguments[3],r=arguments[2],a=arguments[1],i=void 0),s={text:n,title:i,input:o,onOK:a,onCancel:r,empty:!1});var c=t.modal({text:'<p class="weui-prompt-text">'+(s.text||"")+'</p><input type="text" class="weui-input weui-prompt-input" id="weui-prompt-input" value="'+(s.input||"")+'" />',title:s.title,autoClose:!1,buttons:[{text:e.buttonCancel,className:"default",onClick:function(){t.closeModal(),s.onCancel&&s.onCancel.call(c)}},{text:e.buttonOK,className:"primary",onClick:function(){var e=t("#weui-prompt-input").val();if(!s.empty&&(""===e||null===e))return c.find(".weui-prompt-input").focus()[0].select(),!1;t.closeModal(),s.onOK&&s.onOK.call(c,e)}}]},function(){this.find(".weui-prompt-input").focus()[0].select()});return c},t.login=function(n,i,a,r,o,s){var c;"object"==typeof n?c=n:("function"==typeof i&&(s=arguments[4],o=arguments[3],r=arguments[2],a=arguments[1],i=void 0),c={text:n,title:i,username:o,password:s,onOK:a,onCancel:r});var l=t.modal({text:'<p class="weui-prompt-text">'+(c.text||"")+'</p><input type="text" class="weui-input weui-prompt-input" id="weui-prompt-username" value="'+(c.username||"")+'" placeholder="输入用户名" /><input type="password" class="weui-input weui-prompt-input" id="weui-prompt-password" value="'+(c.password||"")+'" placeholder="输入密码" />',title:c.title,autoClose:!1,buttons:[{text:e.buttonCancel,className:"default",onClick:function(){t.closeModal(),c.onCancel&&c.onCancel.call(l)}},{text:e.buttonOK,className:"primary",onClick:function(){var e=t("#weui-prompt-username").val(),n=t("#weui-prompt-password").val();return c.empty||""!==e&&null!==e?c.empty||""!==n&&null!==n?(t.closeModal(),void(c.onOK&&c.onOK.call(l,e,n))):(l.find("#weui-prompt-password").focus()[0].select(),!1):(l.find("#weui-prompt-username").focus()[0].select(),!1)}}]},function(){this.find("#weui-prompt-username").focus()[0].select()});return l},e=t.modal.prototype.defaults={title:"提示",text:void 0,buttonOK:"确定",buttonCancel:"取消",buttons:[{text:"确定",className:"primary"}],autoClose:!0}}($),function(t){"use strict";var e=function(e,n){n=n||"";t("<div class='weui-mask_transparent'></div>").appendTo(document.body);var i=t('<div class="weui-toast '+n+'">'+e+"</div>").appendTo(document.body);i.addClass("weui-toast--visible"),i.show()},n=function(e){t(".weui-mask_transparent").remove();var n=!1,i=t(".weui-toast--visible").removeClass("weui-toast--visible").transitionEnd(function(){t(this).remove(),e&&e(),n=!0});setTimeout(function(){n||(i.remove(),e&&e())},1e3)};t.toast=function(t,a,r){"function"==typeof a&&(r=a);var o,s="weui-icon-success-no-circle",c=i.duration;"cancel"==a?(o="weui-toast_cancel",s="weui-icon-cancel"):"forbidden"==a?(o="weui-toast--forbidden",s="weui-icon-warn"):"text"==a?o="weui-toast--text":"number"==typeof a&&(c=a),e('<i class="'+s+' weui-icon_toast"></i><p class="weui-toast_content">'+(t||"已经完成")+"</p>",o),setTimeout(function(){n(r)},c)},t.showLoading=function(t){var n='<div class="weui_loading">';n+='<i class="weui-loading weui-icon_toast"></i>',n+="</div>",e(n+='<p class="weui-toast_content">'+(t||"数据加载中")+"</p>","weui_loading_toast")},t.hideLoading=function(){n()};var i=t.toast.prototype.defaults={duration:2500}}($),function(t){"use strict";t.actions=function(n){!function(e){var n=t("<div class='weui-mask weui-actions_mask'></div>").appendTo(document.body),i=e.actions||[],a=i.map(function(t,e){return'<div class="weui-actionsheet__cell '+(t.className||"")+'">'+t.text+"</div>"}).join(""),r="";e.title&&(r='<div class="weui-actionsheet__title"><p class="weui-actionsheet__title-text">'+e.title+"</p></div>");var o=t('<div class="weui-actionsheet " id="weui-actionsheet">'+r+'<div class="weui-actionsheet__menu">'+a+'</div><div class="weui-actionsheet__action"><div class="weui-actionsheet__cell weui-actionsheet_cancel">取消</div></div></div>').appendTo(document.body);o.find(".weui-actionsheet__menu .weui-actionsheet__cell, .weui-actionsheet__action .weui-actionsheet__cell").each(function(n,a){t(a).click(function(){t.closeActions(),e.onClose&&e.onClose(),i[n]&&i[n].onClick&&i[n].onClick()})}),n.show(),o.show(),n.addClass("weui-mask--visible"),o.addClass("weui-actionsheet_toggle")}(n=t.extend({},e,n))},t.closeActions=function(){t(".weui-mask").removeClass("weui-mask--visible").transitionEnd(function(){t(this).remove()}),t(".weui-actionsheet").removeClass("weui-actionsheet_toggle").transitionEnd(function(){t(this).remove()})},t(document).on("click",".weui-actions_mask",function(){t.closeActions()});var e=t.actions.prototype.defaults={title:void 0,onClose:void 0}}($),function(t){"use strict";var e=function(n,i){"function"==typeof i&&(i={onRefresh:i}),"string"==typeof i&&(i=void 0),this.opt=t.extend(e.defaults,i||{}),this.container=t(n),this.attachEvents()};e.defaults={distance:50,onRefresh:void 0,onPull:void 0},e.prototype.touchStart=function(e){if(!this.container.hasClass("refreshing")){var n=t.getTouchPosition(e);this.start=n,this.diffX=this.diffY=0}},e.prototype.touchMove=function(e){if(!this.container.hasClass("refreshing")){if(!this.start)return!1;if(!(this.container.scrollTop()>0)){var n=t.getTouchPosition(e);if(this.diffX=n.x-this.start.x,this.diffY=n.y-this.start.y,Math.abs(this.diffX)>Math.abs(this.diffY))return!0;this.diffY<0||(this.container.addClass("touching"),e.preventDefault(),e.stopPropagation(),this.diffY=Math.pow(this.diffY,.75),this.container.css("transform","translate3d(0, "+this.diffY+"px, 0)"),this.triggerPull(this.diffY))}}},e.prototype.touchEnd=function(){this.start=!1,this.diffY<=0||this.container.hasClass("refreshing")||(this.container.removeClass("touching"),this.container.removeClass("pull-down pull-up"),this.container.css("transform",""),Math.abs(this.diffY)<=this.opt.distance||this.triggerPullToRefresh())},e.prototype.triggerPullToRefresh=function(){this.triggerPull(this.opt.distance),this.container.removeClass("pull-up").addClass("refreshing"),this.opt.onRefresh&&this.opt.onRefresh.call(this),this.container.trigger("pull-to-refresh")},e.prototype.triggerPull=function(t){t<this.opt.distance?this.container.removeClass("pull-up").addClass("pull-down"):this.container.removeClass("pull-down").addClass("pull-up"),this.opt.onPull&&this.opt.onPull.call(this,Math.floor(t/this.opt.distance*100)),this.container.trigger("pull")},e.prototype.pullToRefreshDone=function(){this.container.removeClass("refreshing")},e.prototype.attachEvents=function(){var e=this.container;e.addClass("weui-pull-to-refresh"),e.on(t.touchEvents.start,t.proxy(this.touchStart,this)),e.on(t.touchEvents.move,t.proxy(this.touchMove,this)),e.on(t.touchEvents.end,t.proxy(this.touchEnd,this))};t.fn.pullToRefresh=function(n){return this.each(function(){var i=t(this),a=i.data("ptr");a||i.data("ptr",a=new e(this,n)),"string"==typeof n&&a[n].call(a)})},t.fn.pullToRefreshDone=function(){return this.each(function(){t(this).removeClass("refreshing")})}}($),function(t){"use strict";var e=function(e,n){this.container=t(e),this.container.data("infinite",this),this.distance=n||50,this.attachEvents()};e.prototype.scroll=function(){this.container;this._check()},e.prototype.attachEvents=function(e){var n=this.container;("BODY"===n[0].tagName.toUpperCase()?t(document):n)[e?"off":"on"]("scroll",t.proxy(this.scroll,this))},e.prototype.detachEvents=function(t){this.attachEvents(!0)},e.prototype._check=function(){var e=function(e){var n,i=e[0].tagName.toUpperCase();n="BODY"===i||"HTML"===i?e.scrollTop()||t(window).scrollTop():e.scrollTop();var a=e.scrollHeight()-(t(window).height()+n);return console.log(a),a}(this.container);Math.abs(e)<=this.distance&&this.container.trigger("infinite")};t.fn.infinite=function(t){return this.each(function(){new e(this,t)})},t.fn.destroyInfinite=function(){return this.each(function(){var e=t(this).data("infinite");e&&e.detachEvents&&e.detachEvents()})}}($),function(t){"use strict";var e="weui-bar__item--on",n=function(n){var i=t(n);if(!i.hasClass(e)){var a=i.attr("href");if(/^#/.test(a))i.parent().find("."+e).removeClass(e),i.addClass(e),i.parents(".weui-tab").find(".weui-tab__bd").find(".weui-tab__bd-item--active").removeClass("weui-tab__bd-item--active"),t(a).addClass("weui-tab__bd-item--active")}};t.showTab=n,t(document).on("click",".weui-navbar__item, .weui-tabbar__item",function(i){var a=t(i.currentTarget),r=a.attr("href");a.hasClass(e)||/^#/.test(r)&&(i.preventDefault(),n(a))})}($),function(t){"use strict";t(document).on("click touchstart",".weui-search-bar__label",function(e){t(e.target).parents(".weui-search-bar").addClass("weui-search-bar_focusing").find("input").focus()}).on("click",".weui-search-bar__cancel-btn",function(e){t(e.target).parents(".weui-search-bar").removeClass("weui-search-bar_focusing").find(".weui-search-bar__input").val("").blur()}).on("click",".weui-icon-clear",function(e){t(e.target).parents(".weui-search-bar").find(".weui-search-bar__input").val("").focus()})}($),function(t){"use strict";var e={},n=navigator.userAgent,i=n.match(/(Android);?[\s\/]+([\d.]+)?/),a=n.match(/(iPad).*OS\s([\d_]+)/),r=n.match(/(iPod)(.*OS\s([\d_]+))?/),o=!a&&n.match(/(iPhone\sOS)\s([\d_]+)/);if(e.ios=e.android=e.iphone=e.ipad=e.androidChrome=!1,i&&(e.os="android",e.osVersion=i[2],e.android=!0,e.androidChrome=n.toLowerCase().indexOf("chrome")>=0),(a||o||r)&&(e.os="ios",e.ios=!0),o&&!r&&(e.osVersion=o[2].replace(/_/g,"."),e.iphone=!0),a&&(e.osVersion=a[2].replace(/_/g,"."),e.ipad=!0),r&&(e.osVersion=r[3]?r[3].replace(/_/g,"."):null,e.iphone=!0),e.ios&&e.osVersion&&n.indexOf("Version/")>=0&&"10"===e.osVersion.split(".")[0]&&(e.osVersion=n.toLowerCase().split("version/")[1].split(" ")[0]),e.webView=(o||a||r)&&n.match(/.*AppleWebKit(?!.*Safari)/i),e.os&&"ios"===e.os){var s=e.osVersion.split(".");e.minimalUi=!e.webView&&(r||o)&&(1*s[0]==7?1*s[1]>=1:1*s[0]>7)&&t('meta[name="viewport"]').length>0&&t('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var c=t(window).width(),l=t(window).height();e.statusBar=!1,e.webView&&c*l==screen.width*screen.height?e.statusBar=!0:e.statusBar=!1;var u=[];if(e.pixelRatio=window.devicePixelRatio||1,u.push("pixel-ratio-"+Math.floor(e.pixelRatio)),e.pixelRatio>=2&&u.push("retina"),e.os&&(u.push(e.os,e.os+"-"+e.osVersion.split(".")[0],e.os+"-"+e.osVersion.replace(/\./g,"-")),"ios"===e.os))for(var p=parseInt(e.osVersion.split(".")[0],10)-1;p>=6;p--)u.push("ios-gt-"+p);e.statusBar?u.push("with-statusbar-overlay"):t("html").removeClass("with-statusbar-overlay"),u.length>0&&t("html").addClass(u.join(" ")),t.device=e}($),function(t){"use strict";var e=function(e){var n=this,i={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"完成",title:"请选择",toolbarTemplate:'<div class="toolbar">          <div class="toolbar-inner">          <a href="javascript:;" class="picker-button close-picker">{{closeText}}</a>          <h1 class="title">{{title}}</h1>          </div>          </div>'};for(var a in e=e||{},i)void 0===e[a]&&(e[a]=i[a]);n.params=e,n.cols=[],n.initialized=!1,n.inline=!!n.params.container;var r=t.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!t.device.android;function o(){var e=!1;return n.params.convertToPopover||n.params.onlyInPopover?(!n.inline&&n.params.input&&(n.params.onlyInPopover?e=!0:t.device.ios?e=!!t.device.ipad:t(window).width()>=768&&(e=!0)),e):e}function s(){return!!(n.opened&&n.container&&n.container.length>0&&n.container.parents(".popover").length>0)}function c(){if(n.opened)for(var t=0;t<n.cols.length;t++)n.cols[t].divider||(n.cols[t].calcSize(),n.cols[t].setValue(n.cols[t].value,0,!1))}function l(t){if(t.preventDefault(),!n.opened&&(n.open(),n.params.scrollToInput&&!o())){var e=n.input.parents(".content");if(0===e.length)return;var i,a=parseInt(e.css("padding-top"),10),r=parseInt(e.css("padding-bottom"),10),s=e[0].offsetHeight-a-n.container.height(),c=e[0].scrollHeight-a-n.container.height(),l=n.input.offset().top-a+n.input[0].offsetHeight;if(l>s){var u=e.scrollTop()+l-s;u+s>c&&(i=u+s-c+r,s===c&&(i=n.container.height()),e.css({"padding-bottom":i+"px"})),e.scrollTop(u,300)}}}function u(e){s()||(n.input&&n.input.length>0?e.target!==n.input[0]&&0===t(e.target).parents(".weui-picker-modal").length&&n.close():0===t(e.target).parents(".weui-picker-modal").length&&n.close())}function p(){n.opened=!1,n.input&&n.input.length>0&&n.input.parents(".page-content").css({"padding-bottom":""}),n.params.onClose&&n.params.onClose(n),n.container.find(".picker-items-col").each(function(){n.destroyPickerCol(this)})}return n.setValue=function(t,e){for(var i=0,a=0;a<n.cols.length;a++)n.cols[a]&&!n.cols[a].divider&&(n.cols[a].setValue(t[i],e),i++)},n.updateValue=function(){for(var e=[],i=[],a=0;a<n.cols.length;a++)n.cols[a].divider||(e.push(n.cols[a].value),i.push(n.cols[a].displayValue));e.indexOf(void 0)>=0||(n.value=e,n.displayValue=i,n.params.onChange&&n.params.onChange(n,n.value,n.displayValue),n.input&&n.input.length>0&&(t(n.input).val(n.params.formatValue?n.params.formatValue(n,n.value,n.displayValue):n.value.join(" ")),t(n.input).trigger("change")))},n.initPickerCol=function(e,i){var a=t(e),o=a.index(),s=n.cols[o];if(!s.divider){var c,l,u,p;s.container=a,s.wrapper=s.container.find(".picker-items-col-wrapper"),s.items=s.wrapper.find(".picker-item"),s.replaceValues=function(t,e){s.destroyEvents(),s.values=t,s.displayValues=e;var i=n.columnHTML(s,!0);s.wrapper.html(i),s.items=s.wrapper.find(".picker-item"),s.calcSize(),s.setValue(s.values[0]||"",0,!0),s.initEvents()},s.calcSize=function(){var e,i;s.values.length&&(n.params.rotateEffect&&(s.container.removeClass("picker-items-col-absolute"),s.width||s.container.css({width:""})),e=0,i=s.container[0].offsetHeight,s.wrapper[0].offsetHeight,c=s.items[0].offsetHeight,l=c*s.items.length,u=i/2-l+c/2,p=i/2-c/2,s.width&&(e=s.width,parseInt(e,10)===e&&(e+="px"),s.container.css({width:e})),n.params.rotateEffect&&(s.width||(s.items.each(function(){var n=t(this);n.css({width:"auto"}),e=Math.max(e,n[0].offsetWidth),n.css({width:""})}),s.container.css({width:e+2+"px"})),s.container.addClass("picker-items-col-absolute")))},s.calcSize(),s.wrapper.transform("translate3d(0,"+p+"px,0)").transition(0);var h;s.setValue=function(e,i,a){void 0===i&&(i="");var r=s.wrapper.find('.picker-item[data-picker-value="'+e+'"]').index();if(void 0!==r&&-1!==r){var o=-r*c+p;s.wrapper.transition(i),s.wrapper.transform("translate3d(0,"+o+"px,0)"),n.params.updateValuesOnMomentum&&s.activeIndex&&s.activeIndex!==r&&(t.cancelAnimationFrame(h),s.wrapper.transitionEnd(function(){t.cancelAnimationFrame(h)}),_()),s.updateItems(r,o,i,a)}else s.value=s.displayValue=e},s.updateItems=function(e,i,a,o){void 0===i&&(i=t.getTranslate(s.wrapper[0],"y")),void 0===e&&(e=-Math.round((i-p)/c)),e<0&&(e=0),e>=s.items.length&&(e=s.items.length-1);var l=s.activeIndex;s.activeIndex=e,s.wrapper.find(".picker-selected").removeClass("picker-selected"),n.params.rotateEffect&&s.items.transition(a);var u=s.items.eq(e).addClass("picker-selected").transform("");if((o||void 0===o)&&(s.value=u.attr("data-picker-value"),s.displayValue=s.displayValues?s.displayValues[e]:s.value,l!==e&&(s.onChange&&s.onChange(n,s.value,s.displayValue),n.updateValue())),n.params.rotateEffect){Math.floor((i-p)/c);s.items.each(function(){var e=t(this),n=(e.index()*c-(p-i))/c,a=Math.ceil(s.height/c/2)+1,o=-18*n;o>180&&(o=180),o<-180&&(o=-180),Math.abs(n)>a?e.addClass("picker-item-far"):e.removeClass("picker-item-far"),e.transform("translate3d(0, "+(-i+p)+"px, "+(r?-110:0)+"px) rotateX("+o+"deg)")})}},i&&s.updateItems(0,p,0);var d,f,m,v,g,w,y,T,k,x,C,b,M=!0;s.initEvents=function(e){var n=e?"off":"on";s.container[n](t.touchEvents.start,E),s.container[n](t.touchEvents.move,D),s.container[n](t.touchEvents.end,P),s.items[n]("click",O)},s.destroyEvents=function(){s.initEvents(!0)},s.container[0].f7DestroyPickerCol=function(){s.destroyEvents()},s.initEvents()}function _(){h=t.requestAnimationFrame(function(){s.updateItems(void 0,void 0,0),_()})}function E(e){if(!f&&!d){e.preventDefault(),d=!0;var n=t.getTouchPosition(e);m=v=n.y,g=(new Date).getTime(),M=!0,y=k=t.getTranslate(s.wrapper[0],"y")}}function D(e){if(d){e.preventDefault(),M=!1;var i=t.getTouchPosition(e);v=i.y,f||(t.cancelAnimationFrame(h),f=!0,y=k=t.getTranslate(s.wrapper[0],"y"),s.wrapper.transition(0)),e.preventDefault(),T=void 0,(k=y+(v-m))<u&&(k=u-Math.pow(u-k,.8),T="min"),k>p&&(k=p+Math.pow(k-p,.8),T="max"),s.wrapper.transform("translate3d(0,"+k+"px,0)"),s.updateItems(void 0,k,0,n.params.updateValuesOnTouchmove),C=k-x||k,b=(new Date).getTime(),x=k}}function P(e){if(d&&f){var i;d=f=!1,s.wrapper.transition(""),T&&("min"===T?s.wrapper.transform("translate3d(0,"+u+"px,0)"):s.wrapper.transform("translate3d(0,"+p+"px,0)")),(w=(new Date).getTime())-g>300?i=k:(Math.abs(C/(w-b)),i=k+C*n.params.momentumRatio),i=Math.max(Math.min(i,p),u);var a=-Math.floor((i-p)/c);n.params.freeMode||(i=-a*c+p),s.wrapper.transform("translate3d(0,"+parseInt(i,10)+"px,0)"),s.updateItems(a,i,"",!0),n.params.updateValuesOnMomentum&&(_(),s.wrapper.transitionEnd(function(){t.cancelAnimationFrame(h)})),setTimeout(function(){M=!0},100)}else d=f=!1}function O(e){if(M){t.cancelAnimationFrame(h);var n=t(this).attr("data-picker-value");s.setValue(n)}}},n.destroyPickerCol=function(e){"f7DestroyPickerCol"in(e=t(e))[0]&&e[0].f7DestroyPickerCol()},t(window).on("resize",c),n.columnHTML=function(t,e){var n="",i="";if(t.divider)i+='<div class="picker-items-col picker-items-col-divider '+(t.textAlign?"picker-items-col-"+t.textAlign:"")+" "+(t.cssClass||"")+'">'+t.content+"</div>";else{for(var a=0;a<t.values.length;a++)n+='<div class="picker-item" data-picker-value="'+t.values[a]+'">'+(t.displayValues?t.displayValues[a]:t.values[a])+"</div>";i+='<div class="picker-items-col '+(t.textAlign?"picker-items-col-"+t.textAlign:"")+" "+(t.cssClass||"")+'"><div class="picker-items-col-wrapper">'+n+"</div></div>"}return e?n:i},n.layout=function(){var t,e;n.cols=[];var i="";for(e=0;e<n.params.cols.length;e++){var a=n.params.cols[e];i+=n.columnHTML(n.params.cols[e]),n.cols.push(a)}t='<div class="'+("weui-picker-modal picker-columns "+(n.params.cssClass||"")+(n.params.rotateEffect?" picker-3d":"")+(1===n.params.cols.length?" picker-columns-single":""))+'">'+(n.params.toolbar?n.params.toolbarTemplate.replace(/{{closeText}}/g,n.params.toolbarCloseText).replace(/{{title}}/g,n.params.title):"")+'<div class="picker-modal-inner picker-items">'+i+'<div class="picker-center-highlight"></div></div></div>',n.pickerHTML=t},n.params.input&&(n.input=t(n.params.input),n.input.length>0&&(n.params.inputReadOnly&&n.input.prop("readOnly",!0),n.inline||n.input.on("click",l),n.params.inputReadOnly&&n.input.on("focus mousedown",function(t){t.preventDefault()}))),n.inline||t("html").on("click",u),n.opened=!1,n.open=function(){var e=o();n.opened||(n.layout(),e?(n.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+n.pickerHTML+"</div></div>",n.popover=t.popover(n.pickerHTML,n.params.input,!0),n.container=t(n.popover).find(".weui-picker-modal"),t(n.popover).on("close",function(){p()})):n.inline?(n.container=t(n.pickerHTML),n.container.addClass("picker-modal-inline"),t(n.params.container).append(n.container)):(n.container=t(t.openPicker(n.pickerHTML)),t(n.container).on("close",function(){p()})),n.container[0].f7Picker=n,n.container.find(".picker-items-col").each(function(){var t=!0;(!n.initialized&&n.params.value||n.initialized&&n.value)&&(t=!1),n.initPickerCol(this,t)}),n.initialized?n.value&&n.setValue(n.value,0):n.params.value&&n.setValue(n.params.value,0)),n.opened=!0,n.initialized=!0,n.params.onOpen&&n.params.onOpen(n)},n.close=function(e){if(n.opened&&!n.inline)return s()?void t.closePicker(n.popover):void t.closePicker(n.container)},n.destroy=function(){n.close(),n.params.input&&n.input.length>0&&(n.input.off("click focus",l),t(n.input).data("picker",null)),t("html").off("click",u),t(window).off("resize",c)},n.inline&&n.open(),n};t(document).on("click",".close-picker",function(){var e=t(".weui-picker-modal.weui-picker-modal-visible");e.length>0&&t.closePicker(e)}),t(document).on(t.touchEvents.move,".picker-modal-inner",function(t){t.preventDefault()}),t.openPicker=function(e,n,i){"function"==typeof n&&(i=n,n=void 0),t.closePicker();var a=t("<div class='weui-picker-container "+(n||"")+"'></div>").appendTo(document.body);a.show(),a.addClass("weui-picker-container-visible");var r=t(e).appendTo(a);return r.width(),r.addClass("weui-picker-modal-visible"),i&&a.on("close",i),r},t.updatePicker=function(e){var n=t(".weui-picker-container-visible");if(!n[0])return!1;n.html("");var i=t(e).appendTo(n);return i.addClass("weui-picker-modal-visible"),i},t.closePicker=function(e,n){"function"==typeof e&&(n=e),t(".weui-picker-modal-visible").removeClass("weui-picker-modal-visible").transitionEnd(function(){t(this).parent().remove(),n&&n()}).trigger("close")},t.fn.picker=function(n){var i=arguments;return this.each(function(){if(this){var a=t(this),r=a.data("picker");if(!r){n=t.extend({input:this},n||{});var o=a.val();void 0===n.value&&""!==o&&(n.value=n.cols&&n.cols.length>1?o.split(" "):[o]);var s=t.extend({input:this},n);r=new e(s),a.data("picker",r)}"string"==typeof n&&r[n].apply(r,Array.prototype.slice.call(i,1))}})}}($),function(t){"use strict";var e,n=[],i=function(e,i){this.config=i,this.data={values:"",titles:"",origins:[],length:0},this.$input=t(e),this.$input.prop("readOnly",!0),this.initConfig(),i=this.config,this.$input.click(t.proxy(this.open,this)),n.push(this)};i.prototype.initConfig=function(){this.config=t.extend({},e,this.config);var n=this.config;n.items&&n.items.length&&(n.items=n.items.map(function(t,e){return"string"==typeof t?{title:t,value:t}:t}),this.tpl=t.t7.compile("<div class='weui-picker-modal weui-select-modal'>"+n.toolbarTemplate+(n.multi?n.checkboxTemplate:n.radioTemplate)+"</div>"),void 0!==n.input&&this.$input.val(n.input),this.parseInitValue(),this._init=!0)},i.prototype.updateInputValue=function(t,e){var n,i;this.config.multi?(n=t.join(this.config.split),i=e.join(this.config.split)):(n=t[0],i=e[0]);var a=[];this.config.items.forEach(function(e){t.each(function(t,n){e.value==n&&a.push(e)})}),this.$input.val(i).data("values",n),this.$input.attr("value",i).attr("data-values",n);var r={values:n,titles:i,valuesArray:t,titlesArray:e,origins:a,length:a.length};this.data=r,this.$input.trigger("change",r),this.config.onChange&&this.config.onChange.call(this,r)},i.prototype.parseInitValue=function(){var t=this.$input.val(),e=this.config.items;if(this._init||void 0!==t&&null!=t&&""!==t)for(var n=this.config.multi?t.split(this.config.split):[t],i=0;i<e.length;i++){e[i].checked=!1;for(var a=0;a<n.length;a++)e[i].title===n[a]&&(e[i].checked=!0)}},i.prototype._bind=function(e){var n=this,i=this.config;e.on("change",function(a){var r=e.find("input:checked"),o=r.map(function(){return t(this).val()}),s=r.map(function(){return t(this).data("title")});n.updateInputValue(o,s),i.autoClose&&!i.multi&&n.close()}).trigger("change").on("click",".close-select",function(){n.close()})},i.prototype.update=function(e){this.config=t.extend({},this.config,e),this.initConfig(),this._open&&this._bind(t.updatePicker(this.getHTML()))},i.prototype.open=function(e,i){if(!this._open){for(var a=0;a<n.length;a++){var r=n[a];if(r!==this&&(r._open&&!r.close()))return!1}this.parseInitValue();var o=this.config,s=this.dialog=t.openPicker(this.getHTML());this._bind(s),this._open=!0,o.onOpen&&o.onOpen(this)}},i.prototype.close=function(e,n){if(!this._open)return!1;var i=this,a=this.config.beforeClose;if(!n){if(a&&"function"==typeof a&&!1===a.call(this,this.data.values,this.data.titles))return!1;if(this.config.multi){if(void 0!==this.config.min&&this.data.length<this.config.min)return t.toast("请至少选择"+this.config.min+"个","text"),!1;if(void 0!==this.config.max&&this.data.length>this.config.max)return t.toast("最多只能选择"+this.config.max+"个","text"),!1}}return t.closePicker(function(){i.onClose(),e&&e()}),!0},i.prototype.onClose=function(){this._open=!1,this.config.onClose&&this.config.onClose(this)},i.prototype.getHTML=function(t){var e=this.config;return this.tpl({items:e.items,title:e.title,closeText:e.closeText})},t.fn.select=function(e,n){return this.each(function(){var a=t(this);a.data("weui-select")||a.data("weui-select",new i(this,e));var r=a.data("weui-select");return"string"==typeof e&&r[e].call(r,n),r})},e=t.fn.select.prototype.defaults={items:[],input:void 0,title:"请选择",multi:!1,closeText:"确定",autoClose:!0,onChange:void 0,beforeClose:void 0,onClose:void 0,onOpen:void 0,split:",",min:void 0,max:void 0,toolbarTemplate:'<div class="toolbar">      <div class="toolbar-inner">      <a href="javascript:;" class="picker-button close-select">{{closeText}}</a>      <h1 class="title">{{title}}</h1>      </div>      </div>',radioTemplate:'<div class="weui-cells weui-cells_radio">        {{#items}}        <label class="weui-cell weui-check_label" for="weui-select-id-{{this.title}}">          <div class="weui-cell__bd weui-cell_primary">            <p>{{this.title}}</p>          </div>          <div class="weui-cell__ft">            <input type="radio" class="weui-check" name="weui-select" id="weui-select-id-{{this.title}}" value="{{this.value}}" {{#if this.checked}}checked="checked"{{/if}} data-title="{{this.title}}">            <span class="weui-icon-checked"></span>          </div>        </label>        {{/items}}      </div>',checkboxTemplate:'<div class="weui-cells weui-cells_checkbox">        {{#items}}        <label class="weui-cell weui-check_label" for="weui-select-id-{{this.title}}">          <div class="weui-cell__bd weui-cell_primary">            <p>{{this.title}}</p>          </div>          <div class="weui-cell__ft">            <input type="checkbox" class="weui-check" name="weui-select" id="weui-select-id-{{this.title}}" value="{{this.value}}" {{#if this.checked}}checked="checked"{{/if}} data-title="{{this.title}}" >            <span class="weui-icon-checked"></span>          </div>        </label>        {{/items}}      </div>'}}($),function(t){"use strict";var e,n=!1,i=function(t,e){t=new Date(t),e=new Date(e);return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},a=function(a){var r=this;for(var o in a=a||{},e)void 0===a[o]&&(a[o]=e[o]);r.params=a,r.initialized=!1,r.inline=!!r.params.container,r.isH="horizontal"===r.params.direction;var s=r.isH&&n?-1:1;function c(){var e=!1;return r.params.convertToPopover||r.params.onlyInPopover?(!r.inline&&r.params.input&&(r.params.onlyInPopover?e=!0:t.device.ios?e=!!t.device.ipad:t(window).width()>=768&&(e=!0)),e):e}function l(){return!!(r.opened&&r.container&&r.container.length>0&&r.container.parents(".popover").length>0)}function u(t){var e=(t=new Date(t)).getFullYear(),n=t.getMonth(),i=n+1,a=t.getDate(),o=t.getDay();return r.params.dateFormat.replace(/yyyy/g,e).replace(/yy/g,(e+"").substring(2)).replace(/mm/g,i<10?"0"+i:i).replace(/m/g,i).replace(/MM/g,r.params.monthNames[n]).replace(/M/g,r.params.monthNamesShort[n]).replace(/dd/g,a<10?"0"+a:a).replace(/d/g,a).replace(/DD/g,r.params.dayNames[o]).replace(/D/g,r.params.dayNamesShort[o])}function p(t){if(t.preventDefault(),!r.opened&&(r.open(),r.params.scrollToInput&&!c())){var e=r.input.parents(".page-content");if(0===e.length)return;var n,i=parseInt(e.css("padding-top"),10),a=parseInt(e.css("padding-bottom"),10),o=e[0].offsetHeight-i-r.container.height(),s=e[0].scrollHeight-i-r.container.height(),l=r.input.offset().top-i+r.input[0].offsetHeight;if(l>o){var u=e.scrollTop()+l-o;u+o>s&&(n=u+o-s+a,o===s&&(n=r.container.height()),e.css({"padding-bottom":n+"px"})),e.scrollTop(u,300)}}}function h(e){l()||(r.input&&r.input.length>0?e.target!==r.input[0]&&0===t(e.target).parents(".weui-picker-modal").length&&r.close():0===t(e.target).parents(".weui-picker-modal").length&&r.close())}function d(){r.opened=!1,r.input&&r.input.length>0&&r.input.parents(".page-content").css({"padding-bottom":""}),r.params.onClose&&r.params.onClose(r),r.destroyCalendarEvents()}return r.animating=!1,r.addValue=function(t){if(r.params.multiple){var e;r.value||(r.value=[]);for(var n=0;n<r.value.length;n++)i(t,r.value[n])&&(e=n);void 0===e?r.value.push(t):r.value.splice(e,1),r.updateValue()}else r.value=[t],r.updateValue()},r.setValue=function(t){var e=new Date(t[0]);r.setYearMonth(e.getFullYear(),e.getMonth()),r.addValue(+e)},r.updateValue=function(){var e,n;for(r.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected"),e=0;e<r.value.length;e++){var i=new Date(r.value[e]);r.wrapper.find('.picker-calendar-day[data-date="'+i.getFullYear()+"-"+i.getMonth()+"-"+i.getDate()+'"]').addClass("picker-calendar-day-selected")}if(r.params.onChange&&r.params.onChange(r,r.value.map(u),r.value.map(function(t){return+new Date("string"==typeof t?t.split(/\D/).filter(function(t){return!!t}).join("-"):t)})),r.input&&r.input.length>0){if(r.params.formatValue)n=r.params.formatValue(r,r.value);else{for(n=[],e=0;e<r.value.length;e++)n.push(u(r.value[e]));n=n.join(", ")}t(r.input).val(n),t(r.input).trigger("change")}},r.initCalendarEvents=function(){var e,i,a,o,c,l,u,p,h,d,f,m,v,g=!0;function w(n){if(!i&&!e){e=!0;var s=t.getTouchPosition(n);a=l=s.x,o=l=s.y,u=(new Date).getTime(),f=0,g=!0,v=void 0,p=r.monthsTranslate}}function y(n){if(e){var u=t.getTouchPosition(n);c=u.x,l=u.y,void 0===v&&(v=!!(v||Math.abs(l-o)>Math.abs(c-a))),r.isH&&v?e=!1:(n.preventDefault(),r.animating?e=!1:(g=!1,i||(i=!0,h=r.wrapper[0].offsetWidth,d=r.wrapper[0].offsetHeight,r.wrapper.transition(0)),n.preventDefault(),m=r.isH?c-a:l-o,f=m/(r.isH?h:d),p=100*(r.monthsTranslate*s+f),r.wrapper.transform("translate3d("+(r.isH?p:0)+"%, "+(r.isH?0:p)+"%, 0)")))}}function T(t){e&&i?(e=i=!1,(new Date).getTime()-u<300?Math.abs(m)<10?r.resetMonth():m>=10?n?r.nextMonth():r.prevMonth():n?r.prevMonth():r.nextMonth():f<=-.5?n?r.prevMonth():r.nextMonth():f>=.5?n?r.nextMonth():r.prevMonth():r.resetMonth(),setTimeout(function(){g=!0},100)):e=i=!1}function k(e){if(g){var n=t(e.target).parents(".picker-calendar-day");if(0===n.length&&t(e.target).hasClass("picker-calendar-day")&&(n=t(e.target)),0!==n.length&&!n.hasClass("picker-calendar-day-disabled")){n.hasClass("picker-calendar-day-next")&&r.nextMonth(),n.hasClass("picker-calendar-day-prev")&&r.prevMonth();var i=n.attr("data-year"),a=n.attr("data-month"),o=n.attr("data-day");r.params.onDayClick&&r.params.onDayClick(r,n[0],i,a,o),r.addValue(new Date(i,a,o).getTime()),r.params.closeOnSelect&&!r.params.multiple&&r.close()}}}r.container.find(".picker-calendar-prev-month").on("click",r.prevMonth),r.container.find(".picker-calendar-next-month").on("click",r.nextMonth),r.container.find(".picker-calendar-prev-year").on("click",r.prevYear),r.container.find(".picker-calendar-next-year").on("click",r.nextYear),r.wrapper.on("click",k),r.params.touchMove&&(r.wrapper.on(t.touchEvents.start,w),r.wrapper.on(t.touchEvents.move,y),r.wrapper.on(t.touchEvents.end,T)),r.container[0].f7DestroyCalendarEvents=function(){r.container.find(".picker-calendar-prev-month").off("click",r.prevMonth),r.container.find(".picker-calendar-next-month").off("click",r.nextMonth),r.container.find(".picker-calendar-prev-year").off("click",r.prevYear),r.container.find(".picker-calendar-next-year").off("click",r.nextYear),r.wrapper.off("click",k),r.params.touchMove&&(r.wrapper.off(t.touchEvents.start,w),r.wrapper.off(t.touchEvents.move,y),r.wrapper.off(t.touchEvents.end,T))}},r.destroyCalendarEvents=function(t){"f7DestroyCalendarEvents"in r.container[0]&&r.container[0].f7DestroyCalendarEvents()},r.daysInMonth=function(t){var e=new Date(t);return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},r.monthHTML=function(t,e){var n=(t=new Date(t)).getFullYear(),i=t.getMonth();t.getDate();"next"===e&&(t=11===i?new Date(n+1,0):new Date(n,i+1,1)),"prev"===e&&(t=0===i?new Date(n-1,11):new Date(n,i-1,1)),"next"!==e&&"prev"!==e||(i=t.getMonth(),n=t.getFullYear());var a=r.daysInMonth(new Date(t.getFullYear(),t.getMonth()).getTime()-864e6),o=r.daysInMonth(t),s=new Date(t.getFullYear(),t.getMonth()).getDay();0===s&&(s=7);var c,l,u,p=[],h="",d=r.params.firstDay-1+0,f=(new Date).setHours(0,0,0,0),m=r.params.minDate?new Date(r.params.minDate).getTime():null,v=r.params.maxDate?new Date(r.params.maxDate).getTime():null;if(r.value&&r.value.length)for(l=0;l<r.value.length;l++)p.push(new Date(r.value[l]).setHours(0,0,0,0));for(l=1;l<=6;l++){var g="";for(u=1;u<=7;u++){var w=u,y=++d-s,T="";y<0?(y=a+y+1,T+=" picker-calendar-day-prev",c=new Date(i-1<0?n-1:n,i-1<0?11:i-1,y).getTime()):(y+=1)>o?(y-=o,T+=" picker-calendar-day-next",c=new Date(i+1>11?n+1:n,i+1>11?0:i+1,y).getTime()):c=new Date(n,i,y).getTime(),c===f&&(T+=" picker-calendar-day-today"),p.indexOf(c)>=0&&(T+=" picker-calendar-day-selected"),r.params.weekendDays.indexOf(w-1)>=0&&(T+=" picker-calendar-day-weekend"),(m&&c<m||v&&c>v)&&(T+=" picker-calendar-day-disabled");var k=(c=new Date(c)).getFullYear(),x=c.getMonth();g+='<div data-year="'+k+'" data-month="'+x+'" data-day="'+y+'" class="picker-calendar-day'+T+'" data-date="'+k+"-"+x+"-"+y+'"><span>'+y+"</span></div>"}h+='<div class="picker-calendar-row">'+g+"</div>"}return h='<div class="picker-calendar-month" data-year="'+n+'" data-month="'+i+'">'+h+"</div>"},r.animating=!1,r.updateCurrentMonthYear=function(t){void 0===t?(r.currentMonth=parseInt(r.months.eq(1).attr("data-month"),10),r.currentYear=parseInt(r.months.eq(1).attr("data-year"),10)):(r.currentMonth=parseInt(r.months.eq("next"===t?r.months.length-1:0).attr("data-month"),10),r.currentYear=parseInt(r.months.eq("next"===t?r.months.length-1:0).attr("data-year"),10)),r.container.find(".current-month-value").text(r.params.monthNames[r.currentMonth]),r.container.find(".current-year-value").text(r.currentYear)},r.onMonthChangeStart=function(t){r.updateCurrentMonthYear(t),r.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var e="next"===t?r.months.length-1:0;r.months.eq(e).addClass("picker-calendar-month-current"),r.months.eq("next"===t?e-1:e+1).addClass("next"===t?"picker-calendar-month-prev":"picker-calendar-month-next"),r.params.onMonthYearChangeStart&&r.params.onMonthYearChangeStart(r,r.currentYear,r.currentMonth)},r.onMonthChangeEnd=function(t,e){var n,i,a;r.animating=!1,r.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),void 0===t&&(t="next",e=!0),e?(r.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),i=r.monthHTML(new Date(r.currentYear,r.currentMonth),"prev"),n=r.monthHTML(new Date(r.currentYear,r.currentMonth),"next")):a=r.monthHTML(new Date(r.currentYear,r.currentMonth),t),("next"===t||e)&&r.wrapper.append(a||n),("prev"===t||e)&&r.wrapper.prepend(a||i),r.months=r.wrapper.find(".picker-calendar-month"),r.setMonthsTranslate(r.monthsTranslate),r.params.onMonthAdd&&r.params.onMonthAdd(r,"next"===t?r.months.eq(r.months.length-1)[0]:r.months.eq(0)[0]),r.params.onMonthYearChangeEnd&&r.params.onMonthYearChangeEnd(r,r.currentYear,r.currentMonth)},r.setMonthsTranslate=function(t){t=t||r.monthsTranslate||0,void 0===r.monthsTranslate&&(r.monthsTranslate=t),r.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var e=100*-(t+1)*s,n=100*-t*s,i=100*-(t-1)*s;r.months.eq(0).transform("translate3d("+(r.isH?e:0)+"%, "+(r.isH?0:e)+"%, 0)").addClass("picker-calendar-month-prev"),r.months.eq(1).transform("translate3d("+(r.isH?n:0)+"%, "+(r.isH?0:n)+"%, 0)").addClass("picker-calendar-month-current"),r.months.eq(2).transform("translate3d("+(r.isH?i:0)+"%, "+(r.isH?0:i)+"%, 0)").addClass("picker-calendar-month-next")},r.nextMonth=function(e){void 0!==e&&"object"!=typeof e||(e="",r.params.animate||(e=0));var n=parseInt(r.months.eq(r.months.length-1).attr("data-month"),10),i=parseInt(r.months.eq(r.months.length-1).attr("data-year"),10),a=new Date(i,n).getTime(),o=!r.animating;if(r.params.maxDate&&a>new Date(r.params.maxDate).getTime())return r.resetMonth();if(r.monthsTranslate--,n===r.currentMonth){var c=100*-r.monthsTranslate*s,l=t(r.monthHTML(a,"next")).transform("translate3d("+(r.isH?c:0)+"%, "+(r.isH?0:c)+"%, 0)").addClass("picker-calendar-month-next");r.wrapper.append(l[0]),r.months=r.wrapper.find(".picker-calendar-month"),r.params.onMonthAdd&&r.params.onMonthAdd(r,r.months.eq(r.months.length-1)[0])}r.animating=!0,r.onMonthChangeStart("next");var u=100*r.monthsTranslate*s;r.wrapper.transition(e).transform("translate3d("+(r.isH?u:0)+"%, "+(r.isH?0:u)+"%, 0)"),o&&r.wrapper.transitionEnd(function(){r.onMonthChangeEnd("next")}),r.params.animate||r.onMonthChangeEnd("next")},r.prevMonth=function(e){void 0!==e&&"object"!=typeof e||(e="",r.params.animate||(e=0));var n=parseInt(r.months.eq(0).attr("data-month"),10),i=parseInt(r.months.eq(0).attr("data-year"),10),a=new Date(i,n+1,-1).getTime(),o=!r.animating;if(r.params.minDate&&a<new Date(r.params.minDate).getTime())return r.resetMonth();if(r.monthsTranslate++,n===r.currentMonth){var c=100*-r.monthsTranslate*s,l=t(r.monthHTML(a,"prev")).transform("translate3d("+(r.isH?c:0)+"%, "+(r.isH?0:c)+"%, 0)").addClass("picker-calendar-month-prev");r.wrapper.prepend(l[0]),r.months=r.wrapper.find(".picker-calendar-month"),r.params.onMonthAdd&&r.params.onMonthAdd(r,r.months.eq(0)[0])}r.animating=!0,r.onMonthChangeStart("prev");var u=100*r.monthsTranslate*s;r.wrapper.transition(e).transform("translate3d("+(r.isH?u:0)+"%, "+(r.isH?0:u)+"%, 0)"),o&&r.wrapper.transitionEnd(function(){r.onMonthChangeEnd("prev")}),r.params.animate||r.onMonthChangeEnd("prev")},r.resetMonth=function(t){void 0===t&&(t="");var e=100*r.monthsTranslate*s;r.wrapper.transition(t).transform("translate3d("+(r.isH?e:0)+"%, "+(r.isH?0:e)+"%, 0)")},r.setYearMonth=function(t,e,n){var i;if(void 0===t&&(t=r.currentYear),void 0===e&&(e=r.currentMonth),void 0!==n&&"object"!=typeof n||(n="",r.params.animate||(n=0)),i=t<r.currentYear?new Date(t,e+1,-1).getTime():new Date(t,e).getTime(),r.params.maxDate&&i>new Date(r.params.maxDate).getTime())return!1;if(r.params.minDate&&i<new Date(r.params.minDate).getTime())return!1;var a=new Date(r.currentYear,r.currentMonth).getTime(),o=i>a?"next":"prev",c=r.monthHTML(new Date(t,e));r.monthsTranslate=r.monthsTranslate||0;var l,u,p=r.monthsTranslate,h=!r.animating;i>a?(r.monthsTranslate--,r.animating||r.months.eq(r.months.length-1).remove(),r.wrapper.append(c),r.months=r.wrapper.find(".picker-calendar-month"),l=100*-(p-1)*s,r.months.eq(r.months.length-1).transform("translate3d("+(r.isH?l:0)+"%, "+(r.isH?0:l)+"%, 0)").addClass("picker-calendar-month-next")):(r.monthsTranslate++,r.animating||r.months.eq(0).remove(),r.wrapper.prepend(c),r.months=r.wrapper.find(".picker-calendar-month"),l=100*-(p+1)*s,r.months.eq(0).transform("translate3d("+(r.isH?l:0)+"%, "+(r.isH?0:l)+"%, 0)").addClass("picker-calendar-month-prev")),r.params.onMonthAdd&&r.params.onMonthAdd(r,"next"===o?r.months.eq(r.months.length-1)[0]:r.months.eq(0)[0]),r.animating=!0,r.onMonthChangeStart(o),u=100*r.monthsTranslate*s,r.wrapper.transition(n).transform("translate3d("+(r.isH?u:0)+"%, "+(r.isH?0:u)+"%, 0)"),h&&r.wrapper.transitionEnd(function(){r.onMonthChangeEnd(o,!0)}),r.params.animate||r.onMonthChangeEnd(o)},r.nextYear=function(){r.setYearMonth(r.currentYear+1)},r.prevYear=function(){r.setYearMonth(r.currentYear-1)},r.layout=function(){var t,e,n="",i=r.value&&r.value.length?r.value[0]:(new Date).setHours(0,0,0,0),a='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(r.monthHTML(i,"prev")+r.monthHTML(i)+r.monthHTML(i,"next"))+"</div></div>",o="";if(r.params.weekHeader){for(e=0;e<7;e++){var s=e+r.params.firstDay>6?e-7+r.params.firstDay:e+r.params.firstDay,c=r.params.dayNamesShort[s];o+='<div class="picker-calendar-week-day '+(r.params.weekendDays.indexOf(s)>=0?"picker-calendar-week-day-weekend":"")+'"> '+c+"</div>"}o='<div class="picker-calendar-week-days">'+o+"</div>"}n="weui-picker-calendar "+(r.params.cssClass||""),r.inline||(n="weui-picker-modal "+n);var l=r.params.toolbar?r.params.toolbarTemplate.replace(/{{closeText}}/g,r.params.toolbarCloseText):"";r.params.toolbar&&(l=r.params.toolbarTemplate.replace(/{{closeText}}/g,r.params.toolbarCloseText).replace(/{{monthPicker}}/g,r.params.monthPicker?r.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,r.params.yearPicker?r.params.yearPickerTemplate:"")),t='<div class="'+n+'">'+l+'<div class="picker-modal-inner">'+o+a+"</div></div>",r.pickerHTML=t},r.params.input&&(r.input=t(r.params.input),r.input.length>0&&(r.params.inputReadOnly&&r.input.prop("readOnly",!0),r.inline||r.input.on("click",p),r.params.inputReadOnly&&r.input.on("focus mousedown",function(t){t.preventDefault()}))),r.inline||t(document).on("click touchend",h),r.opened=!1,r.open=function(){var e=c()&&!1,n=!1;r.opened||(r.value||r.params.value&&(r.value=r.params.value,n=!0),r.layout(),e?(r.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+r.pickerHTML+"</div></div>",r.popover=t.popover(r.pickerHTML,r.params.input,!0),r.container=t(r.popover).find(".weui-picker-modal"),t(r.popover).on("close",function(){d()})):r.inline?(r.container=t(r.pickerHTML),r.container.addClass("picker-modal-inline"),t(r.params.container).append(r.container)):(r.container=t(t.openPicker(r.pickerHTML)),t(r.container).on("close",function(){d()})),r.container[0].f7Calendar=r,r.wrapper=r.container.find(".picker-calendar-months-wrapper"),r.months=r.wrapper.find(".picker-calendar-month"),r.updateCurrentMonthYear(),r.monthsTranslate=0,r.setMonthsTranslate(),r.initCalendarEvents(),n&&r.updateValue()),r.opened=!0,r.initialized=!0,r.params.onMonthAdd&&r.months.each(function(){r.params.onMonthAdd(r,this)}),r.params.onOpen&&r.params.onOpen(r)},r.close=function(){if(r.opened&&!r.inline)return r.animating=!1,l()?void t.closePicker(r.popover):void t.closePicker(r.container)},r.destroy=function(){r.close(),r.params.input&&r.input.length>0&&(r.input.off("click focus",p),r.input.data("calendar",null)),t("html").off("click",h)},r.inline&&r.open(),r},r=function(t){return t<10?"0"+t:t};t.fn.calendar=function(e,n){return e=e||{},this.each(function(){var i=t(this);if(i[0]){var o={};"INPUT"===i[0].tagName.toUpperCase()?o.input=i:o.container=i;var s=i.data("calendar");if(!s)if("string"==typeof e);else{if(!e.value&&i.val()&&(e.value=[i.val()]),!e.value){var c=new Date;e.value=[c.getFullYear()+"/"+r(c.getMonth()+1)+"/"+r(c.getDate())]}s=i.data("calendar",new a(t.extend(o,e)))}"string"==typeof e&&s[e].call(s,n)}})},e=t.fn.calendar.prototype.defaults={value:void 0,monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy/mm/dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!0,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="javascript:;" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><div class="current-month-value"></div><a href="javascript:;" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="javascript:;" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="javascript:;" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{yearPicker}}{{monthPicker}}</div></div>'}}($),function(t){"use strict";var e,n=function(t){return t<10?"0"+t:t},i=function(e,n){this.input=t(e),this.params=n||{},this.initMonthes=n.monthes,this.initYears=n.years;var i=t.extend({},n,this.getConfig());t(this.input).picker(i)};i.prototype={getDays:function(t){for(var e=[],n=1;n<=(t||31);n++)e.push(n<10?"0"+n:n);return e},getDaysByMonthAndYear:function(t,e){var n=new Date(e,parseInt(t)+1-1,1),i=new Date(n-1);return this.getDays(i.getDate())},getConfig:function(){var t,e=new Date,i=this.params,a=this,r={rotateEffect:!1,cssClass:"datetime-picker",value:[e.getFullYear(),n(e.getMonth()+1),n(e.getDate()),n(e.getHours()),n(e.getMinutes())],onChange:function(e,n,r){e.cols;var o=a.getDaysByMonthAndYear(n[1],n[0]),s=n[2];s>o.length&&(s=o.length),e.cols[4].setValue(s);var c=new Date(n[0]+"-"+n[1]+"-"+n[2]),l=!0;i.min&&(c<+new Date("function"==typeof i.min?i.min():i.min)&&(e.setValue(t),l=!1));i.max&&(c>+new Date("function"==typeof i.max?i.max():i.max)&&(e.setValue(t),l=!1));l&&(t=n),a.params.onChange&&a.params.onChange.apply(this,arguments)},formatValue:function(t,e,n){return a.params.format(t,e,n)},cols:[{values:this.initYears},{divider:!0,content:i.yearSplit},{values:this.initMonthes},{divider:!0,content:i.monthSplit},{values:function(){for(var t=[],e=1;e<=31;e++)t.push(n(e));return t}()}]};i.dateSplit&&r.cols.push({divider:!0,content:i.dateSplit}),r.cols.push({divider:!0,content:i.datetimeSplit});var o=a.params.times();o&&o.length&&(r.cols=r.cols.concat(o));var s=this.input.val();return s&&(r.value=i.parse(s)),this.params.value&&(this.input.val(this.params.value),r.value=i.parse(this.params.value)),r}},t.fn.datetimePicker=function(n){return n=t.extend({},e,n),this.each(function(){if(this){var e=t(this),a=e.data("datetime");return a||e.data("datetime",new i(this,n)),a}})},e=t.fn.datetimePicker.prototype.defaults={input:void 0,min:void 0,max:void 0,yearSplit:"-",monthSplit:"-",dateSplit:"",datetimeSplit:" ",monthes:"01 02 03 04 05 06 07 08 09 10 11 12".split(" "),years:function(){for(var t=[],e=1950;e<=2030;e++)t.push(e);return t}(),times:function(){return[{values:function(){for(var t=[],e=0;e<24;e++)t.push(n(e));return t}()},{divider:!0,content:":"},{values:function(){for(var t=[],e=0;e<60;e++)t.push(n(e));return t}()}]},format:function(t,e){return t.cols.map(function(t){return t.value||t.content}).join("")},parse:function(t){var e=t.split(this.datetimeSplit);return e[0].split(/\D/).concat(e[1].split(/:|时|分|秒/)).filter(function(t){return!!t})}}}($),function(t){"use strict";t.openPopup=function(e,n){t.closePopup(),(e=t(e)).show(),e.width(),e.addClass("weui-popup__container--visible");var i=e.find(".weui-popup__modal");i.width(),i.transitionEnd(function(){i.trigger("open")})},t.closePopup=function(e,n){(e=t(e||".weui-popup__container--visible")).find(".weui-popup__modal").transitionEnd(function(){t(this).trigger("close"),e.hide(),n&&e.remove()}),e.removeClass("weui-popup__container--visible")},t(document).on("click",".close-popup, .weui-popup__overlay",function(){t.closePopup()}).on("click",".open-popup",function(){t(t(this).data("target")).popup()}).on("click",".weui-popup__container",function(e){t(e.target).hasClass("weui-popup__container")&&t.closePopup()}),t.fn.popup=function(){return this.each(function(){t.openPopup(this)})}}($),function(t){"use strict";var e,n,i,a,r,o,s=function(n){var i=t.getTouchPosition(n);a=i,r=o=0,e.addClass("touching")},c=function(n){if(!a)return!1;n.preventDefault(),n.stopPropagation();var i=t.getTouchPosition(n);r=i.x-a.x,(o=i.y-a.y)>0&&(o=Math.sqrt(o)),e.css("transform","translate3d(0, "+o+"px, 0)")},l=function(){e.removeClass("touching"),e.attr("style",""),o<0&&Math.abs(o)>.38*e.height()&&t.closeNotification(),Math.abs(r)<=1&&Math.abs(o)<=1&&e.trigger("noti-click"),a=!1};t.notification=t.noti=function(a){var r;a=t.extend({},n,a),(e=t(".weui-notification"))[0]||(e=t('<div class="weui-notification"></div>').appendTo(document.body),(r=e).on(t.touchEvents.start,s),r.on(t.touchEvents.move,c),r.on(t.touchEvents.end,l)),e.off("noti-click"),a.onClick&&e.on("noti-click",function(){a.onClick(a.data)}),e.html(t.t7.compile(a.tpl)(a)),e.show(),e.addClass("weui-notification--in"),e.data("params",a);var o=function(){i&&(clearTimeout(i),i=null),i=setTimeout(function(){e.hasClass("weui-notification--touching")?o():t.closeNotification()},a.time)};o()},t.closeNotification=function(){if(i&&clearTimeout(i),i=null,t(".weui-notification").removeClass("weui-notification--in").transitionEnd(function(){t(this).remove()})[0]){var e=t(".weui-notification").data("params");e&&e.onClose&&e.onClose(e.data)}},n=t.noti.prototype.defaults={title:void 0,text:void 0,media:void 0,time:4e3,onClick:void 0,onClose:void 0,data:void 0,tpl:'<div class="weui-notification__inner">{{#if media}}<div class="weui-notification__media">{{media}}</div>{{/if}}<div class="weui-notification__content">{{#if title}}<div class="weui-notification__title">{{title}}</div>{{/if}}{{#if text}}<div class="weui-notification__text">{{text}}</div>{{/if}}</div><div class="weui-notification__handle-bar"></div></div>'}}($),function(t){"use strict";var e;t.toptip=function(n,i,a){if(n){"string"==typeof i&&(a=i,i=void 0),i=i||3e3;var r=a?"bg-"+a:"bg-danger",o=t(".weui-toptips").remove();(o=t('<div class="weui-toptips"></div>').appendTo(document.body)).html(n),o[0].className="weui-toptips "+r,clearTimeout(e),o.hasClass("weui-toptips_visible")||(o.show().width(),o.addClass("weui-toptips_visible")),e=setTimeout(function(){o.removeClass("weui-toptips_visible").transitionEnd(function(){o.remove()})},i)}}}($),function(t){"use strict";var e=function(e,n){this.container=t(e),this.handler=this.container.find(".weui-slider__handler"),this.track=this.container.find(".weui-slider__track"),this.value=this.container.find(".weui-slider-box__value"),this.bind(),"function"==typeof n&&(this.callback=n)};e.prototype.bind=function(){this.container.on(t.touchEvents.start,t.proxy(this.touchStart,this)).on(t.touchEvents.end,t.proxy(this.touchEnd,this)),t(document.body).on(t.touchEvents.move,t.proxy(this.touchMove,this))},e.prototype.touchStart=function(e){e.preventDefault(),this.start=t.getTouchPosition(e),this.width=this.container.find(".weui-slider__inner").width(),this.left=parseInt(this.container.find(".weui-slider__handler").css("left")),this.touching=!0},e.prototype.touchMove=function(e){if(!this.touching)return!0;var n=t.getTouchPosition(e).x-this.start.x+this.left,i=parseInt(n/this.width*100);i<0&&(i=0),i>100&&(i=100),this.handler.css("left",i+"%"),this.track.css("width",i+"%"),this.value.text(i),this.callback&&this.callback.call(this,i),this.container.trigger("change",i)},e.prototype.touchEnd=function(t){this.touching=!1},t.fn.slider=function(n){this.each(function(){var i=t(this),a=i.data("slider");if(a)return a;i.data("slider",new e(this,n))})}}($),function(t){"use strict";var e=[],n="swipeout-touching",i=function(n){this.container=t(n),this.mover=this.container.find(">.weui-cell__bd"),this.attachEvents(),e.push(this)};i.prototype.touchStart=function(e){var i=t.getTouchPosition(e);this.container.addClass(n),this.start=i,this.startX=0,this.startTime=+new Date;var a=this.mover.css("transform").match(/-?[\d\.]+/g);a&&a.length&&(this.startX=parseInt(a[4])),this.diffX=this.diffY=0,this._closeOthers(),this.limit=this.container.find(">.weui-cell__ft").width()||68},i.prototype.touchMove=function(e){if(!this.start)return!0;var n=t.getTouchPosition(e);if(this.diffX=n.x-this.start.x,this.diffY=n.y-this.start.y,Math.abs(this.diffX)<Math.abs(this.diffY))return this.close(),this.start=!1,!0;e.preventDefault(),e.stopPropagation();var i=this.diffX+this.startX;i>0&&(i=0),Math.abs(i)>this.limit&&(i=-(Math.pow(-(i+this.limit),.7)+this.limit)),this.mover.css("transform","translate3d("+i+"px, 0, 0)")},i.prototype.touchEnd=function(){if(!this.start)return!0;this.start=!1;var t=this.diffX+this.startX,e=new Date-this.startTime;this.diffX<-5&&e<200?this.open():this.diffX>=0&&e<200?this.close():t>0||-t<=this.limit/2?this.close():this.open()},i.prototype.close=function(){this.container.removeClass(n),this.mover.css("transform","translate3d(0, 0, 0)"),this.container.trigger("swipeout-close")},i.prototype.open=function(){this.container.removeClass(n),this._closeOthers(),this.mover.css("transform","translate3d("+-this.limit+"px, 0, 0)"),this.container.trigger("swipeout-open")},i.prototype.attachEvents=function(){var e=this.mover;e.on(t.touchEvents.start,t.proxy(this.touchStart,this)),e.on(t.touchEvents.move,t.proxy(this.touchMove,this)),e.on(t.touchEvents.end,t.proxy(this.touchEnd,this))},i.prototype._closeOthers=function(){var t=this;e.forEach(function(e){e!==t&&e.close()})};t.fn.swipeout=function(e){return this.each(function(){var n=t(this),a=n.data("swipeout")||new i(this);n.data("swipeout",a),"string"==typeof e&&a[e]()})},t(".weui-cell_swiped").swipeout()}($);